<html>
<head>
<!-- Copyright 2006-2007 Adobe Systems Incorporated.  All rights reserved. -->
<title>Spry Widget</title>
<meta http-equiv="Content-Type" content="text/html; charset=">

<!-- common includes for any widget translator -->
<script type="text/javascript" src="../Shared/Common/Scripts/dwscripts.js"></script>
<script type="text/javascript" src="../Shared/Common/Scripts/dwscriptsServer.js"></script>
<script type="text/javascript" src="../Shared/Common/Scripts/AssetInfoClass.js"></script>
<script type="text/javascript" src="../Shared/Spry/DesignTime/WidgetManager.js" ></script>
<script type="text/javascript" src="WidgetDomTranslator.js"></script>

<!-- specific includes for spry widgets. These are so we can actually create the widgets we find -->
<script type="text/javascript" src="../Shared/Spry/DesignTime/EditingUtils.js" ></script>
<script type="text/javascript" src="../Shared/Spry/DesignTime/WidgetBase.js" ></script>

<script type="text/javascript">
//regular expression to find all spry widgets
var spryWidgetIdRegExp = /(?:var)?\s+?(\w+?)\s*?=\s*?new\s+?(Spry\.Widget\.\w+?)\s*?\(\s*?['"]([^"']+)['"](\s|.)*?\)\s*;/g;

//map of spry widget types to constructors, note we find the regular widget, but create DesignTime versions of it
//use the global widget constructor object
var spryWidgetConstructors = MM.SPRY_WidgetConstructors;

function translateDOM( dom, sourceStr )
{
	if( typeof dom == 'undefined' )
	{
		return;
	}
	
	translateWidgetsInDOM(dom, sourceStr, spryWidgetIdRegExp, spryWidgetConstructors);
}

function getTranslatorInfo()
{
	returnArray = new Array(7);
	
	returnArray[0] = "SPRY_WIDGET"			// The translatorClass
	returnArray[1] = "Spry Widget"			// The title
	returnArray[2] = "0"					// The number of extensions. 0 indicates to run against all extensions
	returnArray[3] = "1"					// The number of expressions"
	returnArray[4] = "Spry.Widget."			// Expression for open
	returnArray[5] = "byString"				// Run if doc contains expr
	returnArray[6] = "50"					// priority order to apply translator
		
	return returnArray;
} // getTranslatorInfo()
</script>
</head>

<body>
</body>
</html>
