<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>轮播图</title>
    <link rel="stylesheet" href="css/css.css" type="text/css">
</head>
<body>
    <div class="con">
        <div class="slider">
            <div class="picture">
                <img src="img/1.jpg">
            </div>
            <div class="picture">
                <img src="img/2.jpg">
            </div>
            <div class="picture">
                <img src="img/3.jpg">
            </div>
            <div class="picture">
                <img src="img/4.jpg">
            </div>
            <div class="picture">
                <img src="img/5.jpg">
            </div>
            <div class="picture">
                <img src="img/6.jpg">
            </div>
            <div class="picture">
                <img src="img/7.jpg">
            </div>
             <ul>
                <li class="active"></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
            <span id="right" class="gt">&gt;</span>
            <span id="left" class="gt">&lt;</span>
        </div>
    </div>
</body>
<script>
    // 获取图片类数组
    let imgsDom=document.getElementsByClassName('picture');
    // 获取小点点
    let points=document.getElementsByTagName('li')
    // 当前点点的下标
    let point= 0;
    // 当前图片下标
    let setp=0;
    // 上张图片下标
    let per=0;
    // let imgs = Array.from(imgsDom)
    // 右按钮
    let right=document.getElementById("right");
    // 左按钮
    let left=document.getElementById("left");
    this.right.addEventListener('click',moveTo);
    this.left.addEventListener('click',()=>{
        per=setp;
        setp--;

        if(setp<0){
            setp=6
        }
        this.change()
    });
    function change(){
            console.log(setp)      
            imgsDom[setp].style.zIndex="1";
            imgsDom[setp].style.opacity="1";

            imgsDom[per].style.zIndex="0";
            imgsDom[per].style.opacity="0";
            this.focus()              
    }
    function moveTo(){
        per=setp;
        setp++;

        if(setp>6){
            setp=0
        }
        change()
    }
    function focus(){    
        point=setp;
        [].forEach.call(points,(item,index)=>{
            setp===index?points[index].className="active":points[index].className="";
        })
    }
    timer = setInterval(moveTo,2000);
        [].forEach.call(imgsDom,(item,index)=>{
            item.addEventListener('mouseover',function(){
                clearInterval(timer);
            })
        });
        [].forEach.call(imgsDom,(item,index)=>{
            item.addEventListener('mouseout',function(){
                timer = setInterval(moveTo,2000);
            })
        })
</script>
</html>